---
layout: post
title:  "JAVA多线程系列-同步互斥及模型实现"
date:    2016-06-03 14:20
categories: Java
comment: true
---

在上一章锁与信号量的基础上，本章详细讲解同步互斥的意义与区别。
通过3个经典同步模型，来讲解同步的实现，分别为：

 * 1：生产者消费者模型
 * 2：读者写着模型
 * 3：理发师模型

## 同步与互斥

### 同步与互斥定义

互斥：互斥的目的是为了保护临界资源，确保多个线程，在同一时刻最多只能有一个线程访问临界资源，具有排他性，但是互斥并不要求每个线程的访问顺序。

同步：同步是利用信号量机制实现线程对临界资源的有序访问。大多数情况同步是在互斥的基础上，少数情况允许多个线程同时访问临界资源。

### 实现方式
 
 * 使用锁机制实现线程互斥
 * 使用信号量实现线程互斥
 * 使用信号量实现线程同步

##　线程同步问题常见模型：

### 生产者消费者问题


### 贪睡的理发师模型

条件：1名理发师，1个理发座椅，n个等待座椅

逻辑：
若无人理发，则理发师睡觉；
若有人进入理发店，理发师在睡觉，则叫醒理发师，进行理发；
若有人进入理发店，理发师在理发，且有空的等待座椅，则入座等待；
若有人进入理发店，理发师在理发，且无空的等待座椅，则离开。

http://wenku.baidu.com/view/f4dd991c10a6f524ccbf8539.html

thread.zip
### Java实现

public class Sleep{
public static void main(String[] args) {
    System.out.println("贪睡的理发师，睡觉中。。。");
    while(true);
}


### 读者-写者问题
http://blog.sina.com.cn/s/blog_a3eacdb20101ct0c.html
前提：（写互斥）
（1）允许多个读者同时执行读操作；
（2）不允许读者、写者同时操作；
（3）不允许多个写者同时操作。


3中状况：
读优先
当有读者在读文件时，对随后到达的读者和写者，要首先满足读者，阻塞写者。
写优先
即当有读者和写者同时等待时，首先满足写者。当一个写者声明想写文件时，不允许新的读者再访问文件。
无优先


http://blog.sina.com.cn/s/blog_82cb61c3010103ib.html



上一章: []()

下一章: []()