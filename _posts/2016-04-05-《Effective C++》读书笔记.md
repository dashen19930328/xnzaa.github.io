---
layout: post
title:  "《Effective C++》-读书笔记"
date:    2016-01-26 19:20
categories: life
---
## 背景
前几天看完了《C++ Primer》，引用王国维先生《人间词话》中话，看这本书真的有种
“昨夜西风凋碧树。独上高楼，望尽天涯路。”的感觉。《C++ Primer》一书内容全面，但是十分琐碎，一时间让人抓不住重点。
所以就来看这本升级版的《Effective C++》，希望借助实战经验，来巩固C++语法知识。

## 总述
 这本书结合作者多年的C++编程经验，通过9个章节，55个建议，介绍了在编程时应该遵循的一些准则，
以及提高程序运行效率的一些细节。作为一个小白，我确实大部分都不知道。这本书对我编程习惯的影响仅次于《数据结构》。
下面以每章为逻辑，简单介绍：

## 正文

### 第1章：让自己习惯C++
1：为了让自己习惯C++，Scott Meyers首先把C++语言分为了4大部分：C、OOC、Template C++以及STL标准模版库。

2：使用编译器代替预处理器（使用const,enum,inline 代替define）
const与define相比有更省内存，方便错误检查，以及作用域控制等优点
enum可以用于保存常量值，且不会引起多余的内存消耗
inline 相比函数宏 具有类型检查的优点

3：尽可能多的使用const，使用const能进行安全检查，

4：确保对象使用前被初始化。内置类型需要手动初始化，STL中自动初始化；对象的copy会先调用初始化，引起不必要的操作，
可以使用成员列表赋值；使用成员static代替普通static，通过函数调用的方式自动初始化，返回&static 。


### 第2章：构造、析构、赋值运算
5：C++默认编写的成员函数：构造函数，析构函数，复制构造函数，赋值操作运算符。复制（构造/运算符）函数生成有一定的条件！

6：如果不适用默认函数，就应该明确拒绝。方法一：只写声明，不定义；方法二：基类将相应函数定义为私有。

7：为多态基类生命virtual析构函数。为至少含有一个virtual的函数定义虚析构函数，虚析构函数也不要乱用。

8：别让异常逃离析构函数。使用std::abort，吞下异常，自我管理等方式，处理析构函数调用时可能发生的异常。

9：决不在构造、析构函数中调用virtual函数。虚函数调用结果可能跟自己的预期不符！

10：令operator= 返回一个reference to * this。 返回一个左侧值的引用，方便使用a=b=c=5这种连续赋值。

11：在operator中处理“自我赋值”。使用“认同测试” “调整语句顺序” “copy-and-swap”技术

12：复制对象时不要忘了每一个成分。包括自身的数据，以及通过调用基类的复制构造函数实现基类元素的赋值。

### 第3章：资源管理


### 第4章：设计与声明


### 第5章：实现

### 第6章：继承与面向对象设计

### 第7章：模版与泛型编程

### 第8章：定制new与delet

### 第9章：杂项讨论

## 结束